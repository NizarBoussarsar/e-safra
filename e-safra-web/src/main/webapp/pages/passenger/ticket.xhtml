<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
	<html>
<h:head>

	<h:outputScript library="js/jspdf" name="jspdf.js"></h:outputScript>
	<h:outputScript library="js/jspdf" name="jspdf.plugin.from_html.js"></h:outputScript>
	<h:outputScript library="js/jspdf"
		name="jspdf.plugin.split_text_to_size.js"></h:outputScript>
	<h:outputScript library="js/jspdf"
		name="jspdf.plugin.standard_fonts_metrics.js"></h:outputScript>
</h:head>

<h:body>
	<h2>TICKET</h2>
	<div># #{stationBean.ticket.number}</div>
	<div>Price : #{stationBean.ticket.price}$</div>
	<div>For : #{stationBean.ticket.passenger.firstName}
		#{stationBean.ticket.passenger.lastName}</div>
	<div>Line : #{stationBean.ticket.bus.line.name}</div>
	<div>From/To : #{stationBean.stationDeparture.name} |
		#{stationBean.stationArrival.name}</div>
	<div>Bus : #{stationBean.ticket.bus.number}</div>

</h:body>

<script type="text/javascript">

var doc = new jsPDF();          
var elementHandler = {
  '#ignorePDF': function (element, renderer) {
    return true;
  }
};
var source = window.document.getElementsByTagName("body")[0];
doc.fromHTML(
    source,
    15,
    15,
    {
      'width': 180,'elementHandlers': elementHandler
    });

doc.output("dataurlnewwindow");

</script>
	</html>

</ui:composition>